<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Âú£ËØûÂø´‰πêÔºÅüéÑ</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            background: linear-gradient(135deg, #0a0a1a 0%, #1a1a2e 100%);
            overflow: hidden;
            font-family: 'Microsoft YaHei', Arial, sans-serif;
        }
        
        .container {
            width: 100vw;
            height: 100vh;
            position: relative;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
        }
        
        .blessing-text {
            font-size: 2.5em;
            color: #FFD700;
            text-shadow: 0 0 20px #FFD700, 0 0 40px #FFD700;
            margin-bottom: 20px;
            animation: glow 2s ease-in-out infinite alternate;
            z-index: 10;
        }
        
        @keyframes glow {
            from { opacity: 0.8; }
            to { opacity: 1; }
        }
        
        .canvas-container {
            position: relative;
            width: 90vw;
            max-width: 600px;
            height: 70vh;
            max-height: 500px;
        }
        
        canvas {
            width: 100%;
            height: 100%;
            display: block;
        }
        
        .snowflake {
            position: absolute;
            color: white;
            font-size: 1em;
            animation: fall linear infinite;
            opacity: 0.8;
        }
        
        @keyframes fall {
            to {
                transform: translateY(100vh) rotate(360deg);
            }
        }
        
        .heart {
            position: absolute;
            color: #ff69b4;
            font-size: 1.2em;
            animation: fallHeart linear infinite;
            opacity: 0.7;
        }
        
        @keyframes fallHeart {
            to {
                transform: translateY(100vh) rotate(360deg);
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="blessing-text">ËÄÅÂ©ÜÂú£ËØûËäÇÂø´‰πê</div>
        <div class="canvas-container">
            <canvas id="canvas"></canvas>
        </div>
    </div>
    
    <script>
        const canvas = document.getElementById('canvas');
        const ctx = canvas.getContext('2d');
        
        // ËÆæÁΩÆÁîªÂ∏ÉÂ§ßÂ∞è
        function resizeCanvas() {
            canvas.width = canvas.offsetWidth;
            canvas.height = canvas.offsetHeight;
        }
        resizeCanvas();
        window.addEventListener('resize', resizeCanvas);
        
        // È¢úËâ≤ÂÆö‰πâ
        const GREEN = '#228B22';
        const DARK_GREEN = '#006400';
        const BROWN = '#654321';
        const DARK_BROWN = '#503214';
        const RED = '#FF0000';
        const GOLD = '#FFD700';
        const BLUE = '#00BFFF';
        const PURPLE = '#BA55D3';
        const PINK = '#FFC0CB';
        const WHITE = '#FFFFFF';
        const YELLOW = '#FFFF00';
        const ORANGE = '#FFA500';
        
        const DECORATION_COLORS = [RED, GOLD, BLUE, PURPLE, PINK, YELLOW, ORANGE, WHITE];
        
        // Èõ™Ëä±
        class Snowflake {
            constructor() {
                this.x = Math.random() * canvas.width;
                this.y = Math.random() * -100;
                this.speed = 1 + Math.random() * 2;
                this.size = 2 + Math.random() * 3;
                this.wobble = Math.random() * Math.PI * 2;
                this.wobbleSpeed = 0.02 + Math.random() * 0.03;
            }
            
            update() {
                this.y += this.speed;
                this.x += Math.sin(this.wobble) * 0.5;
                this.wobble += this.wobbleSpeed;
                
                if (this.y > canvas.height) {
                    this.y = -10;
                    this.x = Math.random() * canvas.width;
                }
            }
            
            draw() {
                ctx.fillStyle = WHITE;
                ctx.beginPath();
                ctx.arc(this.x, this.y, this.size, 0, Math.PI * 2);
                ctx.fill();
            }
        }
        
        // Áà±ÂøÉ
        class Heart {
            constructor() {
                this.x = Math.random() * canvas.width;
                this.y = Math.random() * -100;
                this.speed = 1.2 + Math.random() * 2.3;
                this.size = 4 + Math.random() * 4;
                this.wobble = Math.random() * Math.PI * 2;
                this.wobbleSpeed = 0.02 + Math.random() * 0.03;
                this.rotation = Math.random() * Math.PI * 2;
                this.rotationSpeed = 0.02 + Math.random() * 0.03;
                this.color = DECORATION_COLORS[Math.floor(Math.random() * DECORATION_COLORS.length)];
            }
            
            update() {
                this.y += this.speed;
                this.x += Math.sin(this.wobble) * 0.8;
                this.wobble += this.wobbleSpeed;
                this.rotation += this.rotationSpeed;
                
                if (this.y > canvas.height) {
                    this.y = -10;
                    this.x = Math.random() * canvas.width;
                }
            }
            
            draw() {
                ctx.save();
                ctx.translate(this.x, this.y);
                ctx.rotate(this.rotation);
                ctx.fillStyle = this.color;
                ctx.beginPath();
                
                // ÁªòÂà∂Áà±ÂøÉ
                const scale = this.size * 0.8;
                for (let t = 0; t < 360; t += 5) {
                    const rad = t * Math.PI / 180;
                    const x = 16 * Math.pow(Math.sin(rad), 3);
                    const y = -(13 * Math.cos(rad) - 5 * Math.cos(2*rad) - 2 * Math.cos(3*rad) - Math.cos(4*rad));
                    if (t === 0) {
                        ctx.moveTo(x * scale / 16, y * scale / 16);
                    } else {
                        ctx.lineTo(x * scale / 16, y * scale / 16);
                    }
                }
                ctx.closePath();
                ctx.fill();
                ctx.restore();
            }
        }
        
        // Ë£ÖÈ•∞ÂìÅ
        class Decoration {
            constructor(x, y, color, type) {
                this.x = x;
                this.y = y;
                this.color = color;
                this.type = type;
                this.timer = Math.random() * Math.PI * 2;
                this.speed = 0.1 + Math.random() * 0.15;
                this.size = 3 + Math.random() * 4;
                this.rotation = Math.random() * Math.PI * 2;
            }
            
            update() {
                this.timer += this.speed;
                this.rotation += 0.05;
            }
            
            draw() {
                const brightness = 150 + 105 * Math.sin(this.timer);
                const r = parseInt(this.color.slice(1, 3), 16);
                const g = parseInt(this.color.slice(3, 5), 16);
                const b = parseInt(this.color.slice(5, 7), 16);
                const color = `rgb(${Math.min(255, r * brightness / 255)}, ${Math.min(255, g * brightness / 255)}, ${Math.min(255, b * brightness / 255)})`;
                
                ctx.save();
                ctx.translate(this.x, this.y);
                ctx.rotate(this.rotation);
                ctx.fillStyle = color;
                
                if (this.type === 'circle') {
                    ctx.beginPath();
                    ctx.arc(0, 0, this.size, 0, Math.PI * 2);
                    ctx.fill();
                } else if (this.type === 'star') {
                    ctx.beginPath();
                    for (let i = 0; i < 5; i++) {
                        const angle = i * 2 * Math.PI / 5 - Math.PI / 2;
                        const x = this.size * Math.cos(angle);
                        const y = this.size * Math.sin(angle);
                        if (i === 0) ctx.moveTo(x, y);
                        else ctx.lineTo(x, y);
                    }
                    ctx.closePath();
                    ctx.fill();
                } else {
                    ctx.beginPath();
                    ctx.moveTo(0, -this.size);
                    ctx.lineTo(this.size, 0);
                    ctx.lineTo(0, this.size);
                    ctx.lineTo(-this.size, 0);
                    ctx.closePath();
                    ctx.fill();
                }
                ctx.restore();
            }
        }
        
        // ÂàõÂª∫ÂØπË±°
        const snowflakes = [];
        for (let i = 0; i < 40; i++) {
            snowflakes.push(new Snowflake());
        }
        
        const hearts = [];
        for (let i = 0; i < 20; i++) {
            hearts.push(new Heart());
        }
        
        let decorations = [];
        let frame = 0;
        
        // ÁªòÂà∂Âú£ËØûÊ†ë
        function drawTree() {
            const treeHeight = canvas.height * 0.5;
            const treeX = canvas.width / 2;
            const treeY = canvas.height - 50;
            
            // ÁªòÂà∂Ê†ëÂπ≤
            const trunkWidth = 30;
            const trunkHeight = 80;
            ctx.fillStyle = BROWN;
            ctx.fillRect(treeX - trunkWidth / 2, treeY - trunkHeight, trunkWidth, trunkHeight);
            
            ctx.strokeStyle = DARK_BROWN;
            ctx.lineWidth = 2;
            ctx.strokeRect(treeX - trunkWidth / 2, treeY - trunkHeight, trunkWidth, trunkHeight);
            
            // ÁªòÂà∂Ê†ëÊ†π
            const rootCount = 6;
            for (let i = 0; i < rootCount; i++) {
                const startX = treeX - trunkWidth / 2 + (i + 1) * (trunkWidth / (rootCount + 1));
                const startY = treeY;
                const angle = (i - rootCount / 2) * 0.4;
                const length = 25 + (i % 3) * 6;
                const thickness = 8 - (i % 2) * 2;
                
                const endX = startX + Math.sin(angle) * length;
                const endY = startY + Math.abs(Math.cos(angle)) * length * 0.7;
                
                ctx.strokeStyle = BROWN;
                ctx.lineWidth = thickness;
                ctx.beginPath();
                ctx.moveTo(startX, startY);
                ctx.lineTo(endX, endY);
                ctx.stroke();
                
                ctx.fillStyle = BROWN;
                ctx.beginPath();
                ctx.arc(endX, endY, thickness / 2, 0, Math.PI * 2);
                ctx.fill();
            }
            
            // ÁªòÂà∂Ê†ëÂÜ†
            const layers = 5;
            decorations = [];
            
            for (let layer = 0; layer < layers; layer++) {
                const layerHeight = treeHeight * (1.1 - layer * 0.18);
                const layerWidth = layerHeight * 0.85;
                const layerY = treeY - trunkHeight - layer * (treeHeight / (layers + 1));
                
                // ÁªòÂà∂‰∏âËßíÂΩ¢
                ctx.fillStyle = GREEN;
                ctx.beginPath();
                ctx.moveTo(treeX, layerY - layerHeight / 2);
                ctx.lineTo(treeX - layerWidth / 2, layerY + layerHeight / 2);
                ctx.lineTo(treeX + layerWidth / 2, layerY + layerHeight / 2);
                ctx.closePath();
                ctx.fill();
                
                ctx.strokeStyle = DARK_GREEN;
                ctx.lineWidth = 2;
                ctx.stroke();
                
                // Ê∑ªÂä†Ë£ÖÈ•∞ÂìÅ
                if (layer > 0) {
                    const numDec = 3 + layer * 2;
                    const types = ['circle', 'star', 'diamond'];
                    
                    for (let i = 0; i < numDec; i++) {
                        const t = i / Math.max(1, numDec - 1);
                        const offsetX = (t - 0.5) * layerWidth * 0.65;
                        const offsetY = (layerHeight / 2) * (0.25 + (i % 3) * 0.25);
                        const decX = treeX + offsetX;
                        const decY = layerY - layerHeight / 2 + offsetY;
                        
                        if (Math.abs(decX - treeX) < layerWidth / 2 - 8) {
                            const color = DECORATION_COLORS[Math.floor(Math.random() * DECORATION_COLORS.length)];
                            const type = types[Math.floor(Math.random() * types.length)];
                            decorations.push(new Decoration(decX, decY, color, type));
                        }
                    }
                }
            }
            
            // ÁªòÂà∂È°∂ÈÉ®ÊòüÊòü
            const starSize = 20 + 6 * Math.sin(frame * 0.08);
            const rotation = frame * 0.04;
            const starY = treeY - trunkHeight - treeHeight;
            
            ctx.fillStyle = GOLD;
            ctx.beginPath();
            for (let i = 0; i < 10; i++) {
                const angle = i * Math.PI / 5 + rotation;
                const radius = (i % 2 === 0) ? starSize : starSize * 0.45;
                const x = treeX + radius * Math.cos(angle - Math.PI / 2);
                const y = starY + radius * Math.sin(angle - Math.PI / 2);
                if (i === 0) ctx.moveTo(x, y);
                else ctx.lineTo(x, y);
            }
            ctx.closePath();
            ctx.fill();
        }
        
        // ÁªòÂà∂ÈùôÊÄÅÊòüÊòüËÉåÊôØ
        const staticStars = [];
        for (let i = 0; i < 50; i++) {
            staticStars.push({
                x: Math.random() * canvas.width,
                y: Math.random() * canvas.height,
                brightness: 100 + Math.random() * 155
            });
        }
        
        // Âä®ÁîªÂæ™ÁéØ
        function animate() {
            ctx.fillStyle = 'rgba(5, 5, 25, 0.1)';
            ctx.fillRect(0, 0, canvas.width, canvas.height);
            
            // ÁªòÂà∂ÈùôÊÄÅÊòüÊòü
            ctx.fillStyle = WHITE;
            staticStars.forEach(star => {
                ctx.fillStyle = `rgb(${star.brightness}, ${star.brightness}, ${star.brightness})`;
                ctx.fillRect(star.x, star.y, 1, 1);
            });
            
            // Êõ¥Êñ∞ÂíåÁªòÂà∂Èõ™Ëä±
            snowflakes.forEach(snow => {
                snow.update();
                snow.draw();
            });
            
            // Êõ¥Êñ∞ÂíåÁªòÂà∂Áà±ÂøÉ
            hearts.forEach(heart => {
                heart.update();
                heart.draw();
            });
            
            // ÁªòÂà∂Âú£ËØûÊ†ë
            drawTree();
            
            // Êõ¥Êñ∞ÂíåÁªòÂà∂Ë£ÖÈ•∞ÂìÅ
            decorations.forEach(dec => {
                dec.update();
                dec.draw();
            });
            
            frame++;
            requestAnimationFrame(animate);
        }
        
        animate();
    </script>
</body>
</html>

